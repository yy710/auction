(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-detail-detail"],{"0758":function(e,t,n){"use strict";(function(e,a,i){var o=n("ee27");n("a9e3"),n("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(n("5f18"));var r=o(n("8c42")),c=o(n("fd90"));e["__wxVueOptions"]={components:{"y-getphone":r.default}},e["__wxRoute"]="components/auction/auction";var s=getApp(),l=wx.getStorageSync("sid");function d(e){var t=this,n=uni.connectSocket({url:"wss://www.all2key.cn/yz",header:{"content-type":"appliction/json",client:"weapp",token:l,apptoken:"yz_auction"},complete:function(){return t.sayHello()}});return n.onOpen((function(e){i.log("socket open: ",e)})),n.onMessage((function(t){if(i.log("recive message: ",t),!t.data)return 0;var a=JSON.parse(t.data),o=parseInt(a.price),r=parseInt(a.time);if(a.carid)if(a.carid!==e.properties.carid)e.lastCarid?e.triggerEvent("changeCar",{carid:a.carid}):wx.showModal({title:"当前正在竞价",content:"是否切换到竞价页面？",success:function(t){t.confirm?e.triggerEvent("changeCar",{carid:a.carid}):t.cancel&&(i.log("用户点击取消"),e.time3<0&&e.setData({show:[0,1],time3:r}))}});else{var c=a.price>=a.reserve;e.setData({show:[1,0],price:o,time:r,reachReserve:c,state:a.state,lastCarid:a.carid,disableAdd:a.time<0,isBuyer:uni.getStorageSync("sid")===a.sid,buyerSid:a.buyerSid,buyPrice:a.buyPrice}),e.triggerEvent("changePrice",{price:o,reachReserve:c}),e.$refs.countDown&&e.$refs.countDown.reset(),e.buyerSid==uni.getStorageSync("sid")&&uni.showModal({title:"恭喜你",content:"以¥".concat(e.buyPrice,"元拍得此车，随后我们的工作人员会与您联系办理相关提车手续，点击右下角“我的车”可查看具体信息。"),showCancel:!1,success:function(){}})}else n.close(),i.log("no auctioning! websocket closed!")})),n.onClose((function(e){})),e.socketTask=n,n}a({components:{preprice:c.default},properties:{startPrice:{type:Number,value:0},prePrice:{type:String,value:"",observer:function(e,t){this.setData({_prePrice:e}),i.log("this._prePrice: ",this._prePrice)}},carid:{type:String,value:null,observer:function(e,t){i.log("component/auction/carid/newValue: %s, oldValue: %s",e,t),this.sayHello()}},time2:{type:Number,value:0,observer:function(e,t){i.log("component/auction/time2/newValue: %s, oldValue: %s",e,t);var n=e-(new Date).getTime();i.log("change time: ",n),n>0?this.setData({show:[0,1],time3:n}):this.setData({show:[1,0],time3:n})}}},data:{timeData:{days:0,hours:0,minutes:0,seconds:0},show:[0,0],price:0,_prePrice:"",socketMsg:"",time:12e4,time3:12e5,state:"ready",lastCarid:null,disableAdd:!1,isBuyer:!1,reachReserve:!1,hasMobile:!1},lifetimes:{created:function(){},attached:function(){i.log("components/auction attached!"),d(this),this.enroll()},detached:function(){this.socketTask.close()}},methods:{enroll:function(){this.setData({hasMobile:s.globalData.user&&s.globalData.user.mobile})},onEnroll:function(e){this.enroll()},onTimeChange:function(e){this.setData({timeData:e.detail})},sayHello:function(){var e=JSON.stringify({action:"hello",user:l});this.socketTask.send({data:e,success:function(){return i.log("socket send data: ",e)}})},start:function(){this.$refs.countDown.start()},pause:function(){this.$refs.countDown.pause()},reset:function(){this.$refs.countDown.reset()},finished:function(){wx.showToast({title:"竞价结束",icon:"success",duration:5e3}),this.setData({disableAdd:!0,show:[0,0]})},finished2:function(){this.setData({show:[1,0]})},addPrice:function(e){var t=this;i.log("addPrice: ",e),wx.showModal({title:"提示",content:"所出价格如果超过保留价，且在20秒内无人加价，即可成交，确认出价？",success:function(n){if(n.confirm){var a=JSON.stringify({action:"addPrice",carid:t.carid,price:t.price,addNum:e.target.dataset.num,user:l});t.socketTask.send({data:a,success:function(){return i.log("socket send data: ",a)}})}else n.cancel&&i.log("用户点击取消")}})}}});var u=e["__wxComponents"]["components/auction/auction"];t.default=u}).call(this,n("c8ba"),n("fe07")["Component"],n("5a52")["default"])},"0ee6":function(e,t,n){"use strict";n.r(t);var a=n("1113"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"103f":function(e,t,n){var a=n("1edd");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("98a94348",a,!0,{sourceMap:!1,shadowMode:!1})},1113:function(e,t,n){"use strict";(function(e,a,i){var o=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("fc11"));e["__wxRoute"]="components/cartype/cartype",a({properties:{carType:{type:Object,value:{},observer:function(e,t){this.setData({_carType:e})}},show:{type:String,value:"field"}},data:{sure:!1,_carType:{},t:{manufacturer:"厂家名称",brand:"品牌",cartype:"车型",name:"名称",yeartype:"年款",environmentalstandards:"排放标准",comfuelconsumption:"油耗",engine:"发动机",gearbox:"变速箱",drivemode:"驱动方式",carbody:"车身形式",fronttiresize:"前轮胎尺寸",reartiresize:"后轮胎尺寸",fueltype:"燃油类型",displacement:"排量(L)",fuelgrade:"燃油标号",price:"新车购置价格",frontbraketype:"前制动类型",rearbraketype:"后制动类型",parkingbraketype:"驻车制动类型",maxpower:"最大功率(KW)",sizetype:"尺寸类型",gearnum:" 档位数",geartype:"变速箱类型",seatnum:"座位数",bodystructure:"车体结构",maxhorsepower:"最大马力(Ps)"}},lifetimes:{},methods:{onConfirm:function(){this.triggerEvent("confirm",this.data._carType),this.setData({sure:!0})},onChange:function(e){i.log("onChange: ",e),this.setData((0,r.default)({},"_carType.".concat(e.currentTarget.dataset.id),e.detail))}}});var c=e["__wxComponents"]["components/cartype/cartype"];t.default=c}).call(this,n("c8ba"),n("fe07")["Component"],n("5a52")["default"])},1976:function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",["field"==e.show?n("van-cell-group",{attrs:{title:"车型信息"}},e._l(e._carType,(function(t,a){return e.t[a]?n("van-field",{key:a,attrs:{value:t,label:e.t[a],border:"false",id:a,"data-id":a},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChange.apply(void 0,arguments)}}}):e._e()})),1):e._e(),"cell"==e.show?n("van-cell-group",{attrs:{title:"车型信息"}},e._l(e._carType,(function(t,a){return e.t[a]?n("van-cell",{key:a,attrs:{value:t,title:e.t[a]}}):e._e()})),1):e._e(),"field"!=e.show||e.sure?e._e():n("van-button",{attrs:{type:"primary",block:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onConfirm.apply(void 0,arguments)}}},[e._v("确认以上信息正确")])],1)},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},"1edd":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".item[data-v-ae845408]{display:inline-block;width:30px;margin:5px;padding:10px;color:#fff;font-size:26px;text-align:center;background-color:#1989fa;-webkit-border-radius:2px;border-radius:2px}.item2[data-v-ae845408]{display:inline-block;width:26px;margin:2px;padding:5px;color:#fff;font-size:22px;text-align:center;background-color:#1989fa;-webkit-border-radius:2px;border-radius:2px}.addprice[data-v-ae845408]{font-size:20px;color:red}",""]),e.exports=t},"20bb":function(e,t,n){var a=n("da20");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("348eda49",a,!0,{sourceMap:!1,shadowMode:!1})},"26f3":function(e,t,n){"use strict";n.r(t);var a=n("2ad4"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"2ad4":function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e["__wxRoute"]="components/carinfo/carinfo",n({properties:{carInfo:{type:Object,value:{},observer:function(e,t){}}},data:{},methods:{}});var a=e["__wxComponents"]["components/carinfo/carinfo"];t.default=a}).call(this,n("c8ba"),n("fe07")["Component"])},"2d10":function(e,t,n){"use strict";n.r(t);var a=n("f092"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},3386:function(e,t,n){"use strict";n.r(t);var a=n("8de2"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},3884:function(e,t,n){"use strict";n.r(t);var a=n("8231"),i=n("d709");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("8e73");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"ae845408",null,!1,a["a"],r);t["default"]=s.exports},"5f18":function(e,t,n){(function(e){n("a4d3"),n("e01a"),n("d28b"),n("4160"),n("c975"),n("a434"),n("c19f"),n("ace4"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(t,n,a){"use strict";function i(e){"object"===("undefined"==typeof plus?"undefined":c(plus))?e():n.isApp&&window.addEventListener("plusready",e,!1)}function o(t,n,a){n?n.errMsg||(n.errMsg="callback:ok"):"object"===(void 0===a?"undefined":c(a))?(a||(a={errMsg:"callback:fail"}),a.errMsg||(a.errMsg=a.message||"callback:fail")):a={errMsg:"callback:fail "+String(a)},t&&"function"==typeof t.success&&n&&t.success(n),a&&e.warn("Callback Fail:",a),t&&"function"==typeof t.fail&&a&&t.fail(a),t&&"function"==typeof t.complete&&t.complete(n||a)}function r(){return o}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.isPlus="object"===("undefined"==typeof navigator?"undefined":c(navigator))&&!!navigator.userAgent.match(/Html5Plus/i),n.isWeb="object"===("undefined"==typeof document?"undefined":c(document))&&!n.isPlus,n.isWeex="object"===("undefined"==typeof weex?"undefined":c(weex)),n.isApp=n.isPlus||n.isWeex,n.plusReady=i,n.callback=o,n.getCallback=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.connectSocket=a.connectSocket,t.onSocketOpen=a.onSocketOpen,t.onSocketError=a.onSocketError,t.sendSocketMessage=a.sendSocketMessage,t.onSocketMessage=a.onSocketMessage,t.closeSocket=a.closeSocket,t.onSocketClose=a.onSocketClose},function(e,t,n){"use strict";function a(e){function t(){f=null}e=e||{};var n=new u.SocketTask(e);if(n.onClose(t),n.onError(t),!f)for(var a in f=n,p)p.hasOwnProperty(a)&&n[a](p[a]);return f=f||n,n}function i(e,t){f?f[e](t):p[e]=t}function o(e){i("onOpen",e)}function r(e){i("onError",e)}function c(e){f&&f.send(e)}function s(e){i("onMessage",e)}function l(e){f&&f.close(e)}function d(e){i("onClose",e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),f=null,p={};t.connectSocket=a,t.onSocketOpen=o,t.onSocketError=r,t.sendSocketMessage=c,t.onSocketMessage=s,t.closeSocket=l,t.onSocketClose=d},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=plus.webview.getWebviewById(p);if(!t){var a=n(7);t=plus.webview.create("http://www.dcloud.io",p,{kernel:"UIWebview",render:"always",plusrequire:"none"}),t.overrideUrlLoading({match:".*data.*"},(function(e){var n=e.url,a=n.match(/\?(\S+)=(\S+)/);if(a){var i=a[1],o=JSON.parse(decodeURIComponent(a[2]));"event"===i?d.emit(o.type,o.data):"callback"===i&&b[o.callbackName](o.error)}else!v&&"number"!=typeof l&&n.indexOf("load")>=0?l=setInterval((function(){t.evalJS(h)}),16):!v&&n.indexOf("ready")>=0&&(clearInterval(l),v=!0,w.forEach((function(e){e(t)})),w=[])})),t.loadData(a,{baseURL:"http://websocket.websocket"})}v?e(t):w.push(e)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},c=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,l,d=r(n(4)),u=n(0),f=c(n(5)),p="__websocket__",b={},h=n(6),v=!1,w=[],g=function(){function e(t){a(this,e),this.id=Date.now().toString(),this.eval("connect",t)}return o(e,[{key:"send",value:function(e){e.data&&"string"!=typeof e.data&&(e.data=[f.default.encode(e.data)]),this.eval("send",e)}},{key:"close",value:function(e){this.eval("close",e)}},{key:"onOpen",value:function(e){this.on("open",e)}},{key:"onClose",value:function(e){this.on("close",e)}},{key:"onError",value:function(e){this.on("error",e)}},{key:"onMessage",value:function(e){this.on("message",(function(t){t=t.data,t=t&&"string"!=typeof t?f.default.decode(t[0]):t,e({data:t})}))}},{key:"eval",value:function(e,t){var n="callback"+Date.now(),a=u.isWeb?window:b;a[n]=function(e){delete a[n],e?u.callback(t,{},e):u.callback(t,{})};var o="window.__webSocket&&__webSocket."+e+"("+this.id+","+JSON.stringify(t)+",'"+n+"')";u.isWeb?(s||(window.eval(h),s=!0),window.eval(o)):u.plusReady((function(){i((function(e){e.evalJS(o)}))}))}},{key:"on",value:function(e,t){d.on("websocket"+e+this.id,(function(e){t(e.detail)}))}}]),e}();t.SocketTask=g},function(e,t,n){"use strict";function a(e,t){r.isWeb?window.addEventListener(e,t,!1):(c[e]=c[e]||[],c[e].push(t))}function i(e,t){if(r.isWeb)window.removeEventListener(e,t,!1);else{var n=c[e];n&&n.splice(n.indexOf(t),1)}}function o(e,t){if(r.isWeb)document.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0}));else{var n=c[e];n&&n.forEach((function(e){e({detail:t})}))}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),c={};t.on=a,t.off=i,t.emit=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup:null,encode:function(e){var t,n=this.chars,a=new Uint8Array(e),i=a.length,o="";for(t=0;t<i;t+=3)o+=n[a[t]>>2],o+=n[(3&a[t])<<4|a[t+1]>>4],o+=n[(15&a[t+1])<<2|a[t+2]>>6],o+=n[63&a[t+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},decode:function(e){var t=this.chars,n=this.lookup;if(!n){n=this.lookup=new Uint8Array(256);for(var a=0;a<t.length;a++)n[t.charCodeAt(a)]=a}var i,o,r,c,s=.75*e.length,l=e.length,d=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),f=new Uint8Array(u);for(a=0;a<l;a+=4)i=n[e.charCodeAt(a)],o=n[e.charCodeAt(a+1)],r=n[e.charCodeAt(a+2)],c=n[e.charCodeAt(a+3)],f[d++]=i<<2|o>>4,f[d++]=(15&o)<<4|r>>2,f[d++]=(3&r)<<6|63&c;return u}};t.default=a},function(e,t){e.exports="'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function () {\n    if (window.__webSocket) {\n        return;\n    }\n    var isPlus = (typeof navigator === 'undefined' ? 'undefined' : _typeof(navigator)) === 'object' && !!navigator.userAgent.match(/Html5Plus/i);\n    if (isPlus) {\n        location.href = 'http://data?ready';\n    }\n    // 自定义事件\n    var $event = {\n        emit: function emit(type, data) {\n            if (!isPlus) {\n                document.dispatchEvent(new CustomEvent(type, {\n                    detail: data,\n                    bubbles: true\n                }));\n                return;\n            }\n            location.href = 'http://data?event=' + encodeURIComponent(JSON.stringify({\n                type: type,\n                data: data\n            }));\n        }\n    };\n    var Base64 = {\n        chars: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n        lookup: null,\n        encode: function encode(arraybuffer) {\n            var chars = this.chars;\n            var bytes = new Uint8Array(arraybuffer),\n                i,\n                len = bytes.length,\n                base64 = \"\";\n\n            for (i = 0; i < len; i += 3) {\n                base64 += chars[bytes[i] >> 2];\n                base64 += chars[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n                base64 += chars[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n                base64 += chars[bytes[i + 2] & 63];\n            }\n\n            if (len % 3 === 2) {\n                base64 = base64.substring(0, base64.length - 1) + \"=\";\n            } else if (len % 3 === 1) {\n                base64 = base64.substring(0, base64.length - 2) + \"==\";\n            }\n\n            return base64;\n        },\n        decode: function decode(base64) {\n            var chars = this.chars;\n            var lookup = this.lookup;\n            if (!lookup) {\n                lookup = this.lookup = new Uint8Array(256);\n                for (var i = 0; i < chars.length; i++) {\n                    lookup[chars.charCodeAt(i)] = i;\n                }\n            }\n            var bufferLength = base64.length * 0.75,\n                len = base64.length,\n                p = 0,\n                encoded1,\n                encoded2,\n                encoded3,\n                encoded4;\n\n            if (base64[base64.length - 1] === \"=\") {\n                bufferLength--;\n                if (base64[base64.length - 2] === \"=\") {\n                    bufferLength--;\n                }\n            }\n\n            var arraybuffer = new ArrayBuffer(bufferLength),\n                bytes = new Uint8Array(arraybuffer);\n\n            for (i = 0; i < len; i += 4) {\n                encoded1 = lookup[base64.charCodeAt(i)];\n                encoded2 = lookup[base64.charCodeAt(i + 1)];\n                encoded3 = lookup[base64.charCodeAt(i + 2)];\n                encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n                bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n                bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n                bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n            }\n\n            return arraybuffer;\n        }\n    };\n\n    window.__webSocket = {\n        webSockets: {},\n        connect: function connect(id, data, callbackName) {\n            var url = data.url;\n            var header = data.header; // 未支持\n            var method = data.method; // 未支持\n            var protocols = data.protocols || [];\n            var webSocket;\n            try {\n                webSocket = this.webSockets[id] = new WebSocket(url, protocols);\n                webSocket.binaryType = 'arraybuffer';\n            } catch (error) {\n                this.callback(callbackName, error);\n                return;\n            }\n            this.callback(callbackName);\n            if (webSocket) {\n                webSocket.addEventListener('open', function () {\n                    $event.emit('websocketopen' + id, {});\n                });\n                webSocket.addEventListener('message', function (_ref) {\n                    var data = _ref.data;\n\n                    $event.emit('websocketmessage' + id, {\n                        data: data && typeof data !== 'string' ? [Base64.encode(data)] : data\n                    });\n                });\n                webSocket.addEventListener('error', function () {\n                    $event.emit('websocketerror' + id, {});\n                });\n                webSocket.addEventListener('close', function () {\n                    $event.emit('websocketclose' + id, {});\n                });\n            }\n        },\n        send: function send(id) {\n            var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            var callbackName = arguments[2];\n\n            data = data.data;\n            data = data && typeof data !== 'string' ? Base64.decode(data[0]) : data;\n            try {\n                this.webSockets[id].send(data);\n            } catch (error) {\n                this.callback(callbackName, error);\n                return;\n            }\n            this.callback(callbackName);\n        },\n        close: function close(id) {\n            var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            var callbackName = arguments[2];\n\n            var options = [];\n            options.push(data.code || 1000);\n            if (typeof data.reason === 'string') {\n                options.push(data.reason);\n            }\n            try {\n                var _webSockets$id;\n\n                (_webSockets$id = this.webSockets[id]).close.apply(_webSockets$id, options);\n            } catch (error) {\n                this.callback(callbackName, error);\n                return;\n            }\n            this.callback(callbackName);\n        },\n        callback: function callback(callbackName, error) {\n            if (isPlus) {\n                location.href = 'http://data?callback=' + encodeURIComponent(JSON.stringify({\n                    callbackName: callbackName,\n                    error: error\n                }));\n            } else {\n                var js = 'window.' + callbackName + '&&window.' + callbackName + '(\\'' + (error || '') + '\\')';\n                window[callbackName] && window[callbackName](error | '');\n                window.eval(js);\n            }\n        }\n    };\n})();"},function(e,t){e.exports='<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <title>WebSocket</title> </head> <body> <script>location.href="http://data/load"<\/script> </body> </html>'}]))}).call(this,n("5a52")["default"])},6384:function(e,t,n){"use strict";n.r(t);var a=n("cc47"),i=n("bb66");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("93d0");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"6ba2a601",null,!1,a["a"],r);t["default"]=s.exports},7035:function(e,t,n){var a=n("734a");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("782dc1f9",a,!0,{sourceMap:!1,shadowMode:!1})},7239:function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"car_info_box"},[n("v-uni-view",{staticClass:"car_info_title"},[n("v-uni-view",{staticClass:"title_label"}),n("v-uni-view",{staticClass:"title_info"},[e._v("车况信息")])],1),n("v-uni-view",{staticClass:"car_info"},[n("v-uni-text",{staticStyle:{color:"#757f89","font-size":"16px",padding:"10px","text-indent":"2em"}},[e._v("此车行驶里程"+e._s(e.carInfo.mileage)+"公里，上牌时间为"+e._s(e.carInfo.registerDate)+"。车况描述："+e._s(e.carInfo.carDescrible))])],1)],1)},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},"734a":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,"/* components/get-phone/index.wxss */",""]),e.exports=t},"73ef":function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("van-button",{attrs:{plain:!0,type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowPopup.apply(void 0,arguments)}}},[e._v("竞价报名")]),n("van-popup",{attrs:{show:e.showPopup,"custom-style":"height: 200px;width: 90%"},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.onPopupClose.apply(void 0,arguments)}}},[n("van-cell-group",{attrs:{title:"请填写信息"}},[n("van-field",{attrs:{value:e.mobile,type:"digit",maxlength:"20",label:"手机号：",placeholder:"请如实填写","error-message":e.errMobile},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChangeMobile.apply(void 0,arguments)}}}),n("van-field",{attrs:{value:e.nickName,maxlength:"10",label:"姓 名：",placeholder:""},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChangeNickName.apply(void 0,arguments)}}}),n("v-uni-button",{attrs:{size:"normal",type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.commitInfo.apply(void 0,arguments)}}},[e._v("报名参加竞价")])],1)],1)],1)},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},8231:function(e,t,n){"use strict";var a={preprice:n("fd90").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[e.isBuyer?n("van-notice-bar",{attrs:{scrollable:"false",text:"您的出价为当前最高价!",color:"red","left-icon":"volume"}}):e._e(),e.show[0]?n("van-count-down",{ref:"countDown",attrs:{"use-slot":!0,time:e.time,"auto-start":!0},on:{finish:function(t){arguments[0]=t=e.$handleEvent(t),e.finished.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.onTimeChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticStyle:{"padding-left":"10px"}},[n("v-uni-text",[e._v("距离竞价结束还剩余")]),n("v-uni-text",{staticClass:"item"},[e._v(e._s(e.timeData.hours))]),n("v-uni-text",[e._v("时")]),n("v-uni-text",{staticClass:"item"},[e._v(e._s(e.timeData.minutes))]),n("v-uni-text",[e._v("分")]),n("v-uni-text",{staticClass:"item"},[e._v(e._s(e.timeData.seconds))]),n("v-uni-text",[e._v("秒")])],1)],1):e._e(),e.show[1]?n("van-count-down",{ref:"countDown2",attrs:{"use-slot":!0,time:e.time3,"auto-start":!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onTimeChange.apply(void 0,arguments)},finish:function(t){arguments[0]=t=e.$handleEvent(t),e.finished2.apply(void 0,arguments)}}},[n("v-uni-view",{staticStyle:{"padding-left":"10px"}},[n("v-uni-text",[e._v("距离竞价开始还剩余")]),n("v-uni-text",{staticClass:"item2"},[e._v(e._s(e.timeData.days))]),n("v-uni-text",[e._v("天")]),n("v-uni-text",{staticClass:"item2"},[e._v(e._s(e.timeData.hours))]),n("v-uni-text",[e._v("时")]),n("v-uni-text",{staticClass:"item2"},[e._v(e._s(e.timeData.minutes))]),n("v-uni-text",[e._v("分")]),n("v-uni-text",{staticClass:"item2"},[e._v(e._s(e.timeData.seconds))]),n("v-uni-text",[e._v("秒")])],1)],1):e._e(),e.hasMobile?e._e():n("y-getphone",{on:{enroll:function(t){arguments[0]=t=e.$handleEvent(t),e.onEnroll.apply(void 0,arguments)}}}),e.show[1]?n("preprice",{attrs:{startPrice:e.startPrice,carid:e.carid,prePrice:e._prePrice}}):e._e(),e.show[0]?n("van-grid",{attrs:{clickable:!0,"column-num":"3"}},[n("van-grid-item",{attrs:{"data-num":"200"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addPrice.apply(void 0,arguments)}}},[n("v-uni-view",{attrs:{slot:"text"},slot:"text"},[e._v("加价"),n("v-uni-text",{staticClass:"addprice"},[e._v("¥200")]),e._v("元")],1)],1),n("van-grid-item",{attrs:{"data-num":"500"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addPrice.apply(void 0,arguments)}}},[n("v-uni-view",{attrs:{slot:"text"},slot:"text"},[e._v("加价"),n("v-uni-text",{staticClass:"addprice"},[e._v("¥500")]),e._v("元")],1)],1),n("van-grid-item",{attrs:{"data-num":"1000"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addPrice.apply(void 0,arguments)}}},[n("v-uni-view",{attrs:{slot:"text"},slot:"text"},[e._v("加价"),n("v-uni-text",{staticClass:"addprice"},[e._v("¥1000")]),e._v("元")],1)],1)],1):e._e()],1)},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},"824e":function(e,t,n){var a=n("c1c5");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("da1cfadc",a,!0,{sourceMap:!1,shadowMode:!1})},8639:function(e,t,n){"use strict";var a=n("20bb"),i=n.n(a);i.a},"8c42":function(e,t,n){"use strict";n.r(t);var a=n("73ef"),i=n("3386");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("fb62");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"369b8958",null,!1,a["a"],r);t["default"]=s.exports},"8de2":function(e,t,n){"use strict";(function(e,a,i){var o=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("f3f3"));n("96cf");var c=o(n("c964"));e["__wxRoute"]="components/get-phone/index";var s=n("ef22"),l=s.request,d=s.validMobile,u=getApp();a({properties:{},data:{showPopup:!1,nickName:"",errMobile:"",mobile:null},lifetimes:{attached:function(){}},methods:{getUserPhone:function(){var e=this;return l("/get-userphone",{}).then((function(t){i.log("get-userphone: ",t.data);var n=t.data.content;e.setData({mobile:n,showEnroll:!n})})).catch((function(e){return i.log("get-userphone err: ",e)}))},onChangeMobile:function(e){var t=e.detail,n=d(t);this.setData({mobile:t,errMobile:n})},onChangeNickName:function(e){var t=e.detail;this.setData({nickName:t})},onShowPopup:function(){this.setData({showPopup:!0})},onPopupClose:function(){this.setData({showPopup:!1})},commitInfo:function(){var e=this;return(0,c.default)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.errMobile&&e.mobile){t.next=2;break}return t.abrupt("return",0);case 2:return n={nickName:e.nickName,mobile:e.mobile},t.next=5,l("/enroll",n);case 5:a=t.sent.data,a.code?(e.onPopupClose(),uni.showToast({title:"报名成功！"}),u.globalData.user.mobile=n.mobile,u.globalData.user.userInfo.nickName=n.nickName,e.$emit("enroll",(0,r.default)({},n))):(e.onPopupClose(),uni.showToast({title:"报名失败，请稍后再试！"}));case 7:case"end":return t.stop()}}),t)})))()}}});var f=e["__wxComponents"]["components/get-phone/index"];t.default=f}).call(this,n("c8ba"),n("fe07")["Component"],n("5a52")["default"])},"8e73":function(e,t,n){"use strict";var a=n("103f"),i=n.n(a);i.a},"93d0":function(e,t,n){"use strict";var a=n("824e"),i=n.n(a);i.a},"96cf":function(e,t){!function(t){"use strict";var n,a=Object.prototype,i=a.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",l="object"===typeof e,d=t.regeneratorRuntime;if(d)l&&(e.exports=d);else{d=t.regeneratorRuntime=l?e.exports:{},d.wrap=m;var u="suspendedStart",f="suspendedYield",p="executing",b="completed",h={},v={};v[r]=function(){return this};var w=Object.getPrototypeOf,g=w&&w(w(D([])));g&&g!==a&&i.call(g,r)&&(v=g);var x=S.prototype=k.prototype=Object.create(v);_.prototype=x.constructor=S,S.constructor=_,S[s]=_.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},d.awrap=function(e){return{__await:e}},P(C.prototype),C.prototype[c]=function(){return this},d.AsyncIterator=C,d.async=function(e,t,n,a){var i=new C(m(e,t,n,a));return d.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(x),x[s]="Generator",x[r]=function(){return this},x.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},d.values=D,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,i){return c.type="throw",c.arg=e,t.next=a,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],c=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var s=i.call(r,"catchLoc"),l=i.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:D(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=n),h}}}function m(e,t,n,a){var i=t&&t.prototype instanceof k?t:k,o=Object.create(i.prototype),r=new T(a||[]);return o._invoke=E(e,n,r),o}function y(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(a){return{type:"throw",arg:a}}}function k(){}function _(){}function S(){}function P(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e){function t(n,a,o,r){var c=y(e[n],e,a);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"===typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,r)}),(function(e){t("throw",e,o,r)})):Promise.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return t("throw",e,o,r)}))}r(c.arg)}var n;function a(e,a){function i(){return new Promise((function(n,i){t(e,a,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=a}function E(e,t,n){var a=u;return function(i,o){if(a===p)throw new Error("Generator is already running");if(a===b){if("throw"===i)throw o;return N()}n.method=i,n.arg=o;while(1){var r=n.delegate;if(r){var c=M(r,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===u)throw a=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var s=y(e,t,n);if("normal"===s.type){if(a=n.done?b:f,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=b,n.method="throw",n.arg=s.arg)}}}function M(e,t){var a=e.iterator[t.method];if(a===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,M(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=y(a,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function D(e){if(e){var t=e[r];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){while(++a<e.length)if(i.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},b000:function(e,t,n){"use strict";n.r(t);var a=n("1976"),i=n("0ee6");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var r,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);t["default"]=s.exports},bb66:function(e,t,n){"use strict";n.r(t);var a=n("fd56"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},c1c5:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".detail-container[data-v-6ba2a601]{background-color:#f2f2f2;min-height:100%;width:100%}.swiper-container[data-v-6ba2a601]{width:100%;position:relative}.saled-container[data-v-6ba2a601]{position:fixed;top:20px;left:20px;height:150px;width:150px}.swiper_box[data-v-6ba2a601]{width:100%;height:%?466?%}\n\n/* swiper-item image {\n  width: 100%;\n  display: inline-block;\n  overflow: hidden;\n  height: 466rpx;\n} */.swiper-container .dots[data-v-6ba2a601]{position:absolute;left:0;right:0;bottom:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.swiper-container .dots .dot[data-v-6ba2a601]{margin:0 %?8?%;width:%?14?%;height:%?14?%;background:#000;-webkit-border-radius:50%;border-radius:50%;-webkit-transition:all .6s;transition:all .6s;opacity:.3}.swiper-container .dots .dot.active[data-v-6ba2a601]{opacity:.6}.car_detail[data-v-6ba2a601]{background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:16px;padding-left:20px;padding-right:20px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.car_detail_head[data-v-6ba2a601]{line-height:27px;font-size:20px;color:#1b1b1b;padding-bottom:20px;font-weight:500;font-family:Hiragino Sans GB,Microsoft Yahei UI,Microsoft Yahei,微软雅黑,Segoe UI,Tahoma,宋体b8b体,SimSun,sans-serif}.car_price_box[data-v-6ba2a601]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline}.new_car_price[data-v-6ba2a601]{color:#abafb3;font-size:12px;height:13px;text-decoration:line-through;-webkit-box-flex:1;-webkit-flex:1;flex:1}.wan[data-v-6ba2a601]{color:#f85d00;font-size:14px;line-height:14px}.car_price[data-v-6ba2a601]{color:#f85d00;font-size:30px;-webkit-box-flex:1;-webkit-flex:1;flex:1}.precent_box[data-v-6ba2a601]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;background-color:#eafae7;height:50px;color:#38b44c;width:100%}.precent_info[data-v-6ba2a601]{-webkit-box-flex:6;-webkit-flex:6;flex:6;margin-top:10px}.precent_text[data-v-6ba2a601]{border-width:1px;border-color:#000;color:#38b44c;font-size:18px;margin-left:30px}.precent_detail[data-v-6ba2a601]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-top:15px}.car_info_box[data-v-6ba2a601]{width:100%;background-color:#fff}.car_info_title[data-v-6ba2a601]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.title_label[data-v-6ba2a601]{background:#ff5a37;width:2px}.title_info[data-v-6ba2a601]{font-size:18px;font-weight:500;color:#333;padding:20px}.car_info[data-v-6ba2a601]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-bottom:20px;border-bottom:1px solid #f3f3f3}.car_info_item_box[data-v-6ba2a601]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.car_info_item_content[data-v-6ba2a601]{padding-top:10px;padding-bottom:10px}.car_info_link[data-v-6ba2a601]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;text-align:right;padding-top:10px;padding-bottom:10px}.car_image_container[data-v-6ba2a601]{width:100%;background-color:#fff;margin-top:20px;margin-bottom:60px}.car_image_box[data-v-6ba2a601]{margin:5px 5px 5px 5px}.car_image[data-v-6ba2a601]{width:100%}.footer-box[data-v-6ba2a601]{width:100%;background-color:#fff;position:fixed;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex}.footer-box .footer-button[data-v-6ba2a601]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.footer-box .contact-btn[data-v-6ba2a601]{-webkit-border-radius:%?0?%;border-radius:%?0?%;text-align:center;height:100%;line-height:%?100?%;background-color:green;color:#fff;font-size:%?35?%}.footer-box .share-btn[data-v-6ba2a601]{-webkit-border-radius:%?0?%;border-radius:%?0?%;text-align:center;height:100%;line-height:%?100?%;background-color:#fff;color:#000;font-size:%?35?%}",""]),e.exports=t},c964:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));n("d3b7"),n("e6cf");function a(e,t,n,a,i,o,r){try{var c=e[o](r),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function c(e){a(r,i,o,c,s,"next",e)}function s(e){a(r,i,o,c,s,"throw",e)}c(void 0)}))}}},cc47:function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"detail-container"},[n("v-uni-view",{staticClass:"car_detail"},[n("v-uni-view",{staticClass:"car_detail_head"},[e._v(e._s(e.detail.carInfo.carTitle))]),e.showPrice?n("v-uni-view",{staticClass:"car_price_box"},[n("v-uni-view",{staticClass:"car_price"},[e._v(e._s(e.detail.startPrice)),n("i",{staticClass:"wan"},[e._v("万")])]),n("v-uni-view",{staticClass:"new_car_price"},[e._v("新车含税"+e._s(e.detail.carType.price))]),e.reachReserve?e._e():n("v-uni-view",{staticStyle:{color:"grey"}},[e._v(e._s(e.socketText))])],1):e._e()],1),e.showPrice?n("y-auction",{ref:"auction",attrs:{prePrice:e.detail.prePrice/1e4||"",carid:e.detail.carInfo.plateNum,time2:e.detail.stageStartTime,startPrice:e.detail.startPrice},on:{changePrice:function(t){arguments[0]=t=e.$handleEvent(t),e.onChangePrice.apply(void 0,arguments)},changeCar:function(t){arguments[0]=t=e.$handleEvent(t),e.onChangeCar.apply(void 0,arguments)}}}):e._e(),n("y-carinfo",{attrs:{carInfo:e.detail.carInfo}}),n("y-cartype",{attrs:{show:"cell",carType:e.detail.carType}}),n("v-uni-view",{staticClass:"car_image_container"},[n("v-uni-view",{staticStyle:{height:"10px",width:"100%"}}),e._l(e.detail.imageURLs,(function(t,a){return n("v-uni-view",{key:a,staticClass:"car_image_box"},[n("v-uni-image",{staticClass:"car_image",attrs:{mode:"widthFix",src:t,"data-index":a},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImg.apply(void 0,arguments)}}})],1)}))],2)],1)},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},d485:function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("van-field",{attrs:{center:!0,"input-align":"right","use-button-slot":!0,"left-icon":"contact","right-icon":"/static/wan.png",value:e.price,placeholder:e.placeholder,type:"digit",label:e.prePrice?"我的预出价: ¥":"我要预出价: ¥","error-message":e.msg,maxlength:"6","title-width":"100px",disabled:e.disableField,focus:e.getFieldFocus},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onInput.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.onFocus.apply(void 0,arguments)}}},[n("van-button",{attrs:{slot:"button",plain:!0,hairline:!0,size:"small",type:"primary",disabled:e.disableButton},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}},slot:"button"},[e._v(e._s(e.buttonText))])],1)],1)},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},d709:function(e,t,n){"use strict";n.r(t);var a=n("0758"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},da20:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".detail-container[data-v-e08574b2]{background-color:#f2f2f2;min-height:100%;width:100%}.swiper-container[data-v-e08574b2]{width:100%;position:relative}.saled-container[data-v-e08574b2]{position:fixed;top:20px;left:20px;height:150px;width:150px}.swiper_box[data-v-e08574b2]{width:100%;height:%?466?%}\n\n/* swiper-item image {\n  width: 100%;\n  display: inline-block;\n  overflow: hidden;\n  height: 466rpx;\n} */.swiper-container .dots[data-v-e08574b2]{position:absolute;left:0;right:0;bottom:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.swiper-container .dots .dot[data-v-e08574b2]{margin:0 %?8?%;width:%?14?%;height:%?14?%;background:#000;-webkit-border-radius:50%;border-radius:50%;-webkit-transition:all .6s;transition:all .6s;opacity:.3}.swiper-container .dots .dot.active[data-v-e08574b2]{opacity:.6}.car_detail[data-v-e08574b2]{background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:16px;padding-left:20px;padding-right:20px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.car_detail_head[data-v-e08574b2]{line-height:27px;font-size:20px;color:#1b1b1b;padding-bottom:20px;font-weight:500;font-family:Hiragino Sans GB,Microsoft Yahei UI,Microsoft Yahei,微软雅黑,Segoe UI,Tahoma,宋体b8b体,SimSun,sans-serif}.car_price_box[data-v-e08574b2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline}.new_car_price[data-v-e08574b2]{color:#abafb3;font-size:12px;height:13px;text-decoration:line-through;-webkit-box-flex:1;-webkit-flex:1;flex:1}.wan[data-v-e08574b2]{color:#f85d00;font-size:14px;line-height:14px}.car_price[data-v-e08574b2]{color:#f85d00;font-size:30px;-webkit-box-flex:1;-webkit-flex:1;flex:1}.precent_box[data-v-e08574b2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;background-color:#eafae7;height:50px;color:#38b44c;width:100%}.precent_info[data-v-e08574b2]{-webkit-box-flex:6;-webkit-flex:6;flex:6;margin-top:10px}.precent_text[data-v-e08574b2]{border-width:1px;border-color:#000;color:#38b44c;font-size:18px;margin-left:30px}.precent_detail[data-v-e08574b2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-top:15px}.car_info_box[data-v-e08574b2]{width:100%;background-color:#fff}.car_info_title[data-v-e08574b2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.title_label[data-v-e08574b2]{background:#ff5a37;width:2px}.title_info[data-v-e08574b2]{font-size:18px;font-weight:500;color:#333;padding:20px}.car_info[data-v-e08574b2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-bottom:20px;border-bottom:1px solid #f3f3f3}.car_info_item_box[data-v-e08574b2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.car_info_item_content[data-v-e08574b2]{padding-top:10px;padding-bottom:10px}.car_info_link[data-v-e08574b2]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;text-align:right;padding-top:10px;padding-bottom:10px}.car_image_container[data-v-e08574b2]{width:100%;background-color:#fff;margin-top:20px;margin-bottom:60px}.car_image_box[data-v-e08574b2]{margin:5px 5px 5px 5px}.car_image[data-v-e08574b2]{width:100%}.footer-box[data-v-e08574b2]{width:100%;background-color:#fff;position:fixed;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex}.footer-box .footer-button[data-v-e08574b2]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.footer-box .contact-btn[data-v-e08574b2]{-webkit-border-radius:%?0?%;border-radius:%?0?%;text-align:center;height:100%;line-height:%?100?%;background-color:green;color:#fff;font-size:%?35?%}.footer-box .share-btn[data-v-e08574b2]{-webkit-border-radius:%?0?%;border-radius:%?0?%;text-align:center;height:100%;line-height:%?100?%;background-color:#fff;color:#000;font-size:%?35?%}",""]),e.exports=t},e012:function(e,t,n){"use strict";n.r(t);var a=n("7239"),i=n("26f3");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("8639");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"e08574b2",null,!1,a["a"],r);t["default"]=s.exports},f092:function(e,t,n){"use strict";(function(e){n("a9e3"),n("acd8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("ef22"),i=a.request,o=getApp(),r={data:function(){return{price:"",msg:"若最终竞拍价小于预出价时，将以预出价成交",placeholder:"",buttonText:null,disableField:!0,disableButton:!1,getFieldFocus:!1}},props:{startPrice:Number,prePrice:String,carid:String},computed:{},mounted:function(){e.log("component preprice mounted!"),this.buttonText=this.prePrice?"修改价格":"确认价格",this.disableField=!!this.prePrice,this.placeholder=this.prePrice||this.startPrice},methods:{onInput:function(e){this.price=Math.round(100*parseFloat(e.detail))/100,this.msg=this.price>this.startPrice?"最终竞拍价小于此价时，将以此价成交":"请输入大于起拍价的价格",this.disableButton=!(this.price>this.startPrice)},onClick:function(){var t=this;if(!o.globalData.user||!o.globalData.user.mobile)return uni.showModal({title:"提示",content:"请先报名参加竞价！",showCancel:!1,success:function(){}}),0;"修改价格"==this.buttonText?(this.disableField=!1,this.getFieldFocus=!0,this.buttonText="确认价格",this.disableButton=!0):"确认价格"==this.buttonText&&(this.getFieldFocus=!1,!this.price||this.price<=this.startPrice?uni.showModal({title:"提示",content:"价格必须大于起拍价！",showCancel:!1,success:function(){}}):i("/set-prePrice",{prePrice:1e4*this.price,carid:this.carid}).then((function(n){e.log("preprice/onClick: ",n.data);var a=n.data,i=(a.errcode,a.msg);a.user;n.data.errcode||(uni.showToast({title:i,duration:1e3}),t.buttonText="修改价格",t.disableField=!0)})).catch((function(t){return e.log(t)})))},onFocus:function(){this.placeholder=""}}};t.default=r}).call(this,n("5a52")["default"])},fb62:function(e,t,n){"use strict";var a=n("7035"),i=n.n(a);i.a},fd56:function(e,t,n){"use strict";(function(e,a,i){var o=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("3884")),c=o(n("b000")),s=o(n("e012"));e["__wxVueOptions"]={components:{"y-auction":r.default,"y-cartype":c.default,"y-carinfo":s.default}},e["__wxRoute"]="pages/detail/detail";var l=getApp(),d=n("ef22"),u=d.request;a({data:{socketText:"当前价格未到保留价",reachReserve:!1,detail:{carInfo:{},carType:{}},isAdmin:!1,carid:null,showPrice:!0},onChangePrice:function(e){i.log("newPrice: ",e.detail),this.setData({"detail.startPrice":e.detail.price/1e4,reachReserve:e.detail.reachReserve})},onChangeCar:function(e){i.log("onChangeCar",e.detail),this.loadPage(e.detail.carid)},onLoad:function(e){this.loadPage(),l.globalData.review&&this.setData({showPrice:!1})},onReady:function(){},onHide:function(){},onShow:function(){},onTabItemTap:function(e){this.loadPage(null)},loadPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.globalData.carid,t=this;return i.log("load(carid = %s)",e),wx.showLoading({title:"正在加载"}),u("/get-stage",{carid:e}).then((function(e){i.log("get-stage: ",e.data);var n=e.data,a=n.code,o=(n.msg,n.content);wx.hideLoading(),a?(t.setData({detail:o}),t.showPrice&&t.$refs.auction.sayHello()):wx.showModal({title:"提示",content:e.data.msg,showCancel:!1,success:function(){wx.switchTab({url:"../sale/sales"})}})})).catch((function(e){i.log(e),wx.showModal({title:"提示",content:"网络异常，请稍后重试",showCancel:!1})}))},previewImg:function(e){var t=e.currentTarget.dataset.index,n=this.data.detail.imageURLs;wx.previewImage({current:n[t],urls:n})}});var f=e["__wxComponents"]["pages/detail/detail"];t.default=f}).call(this,n("c8ba"),n("fe07")["Page"],n("5a52")["default"])},fd90:function(e,t,n){"use strict";n.r(t);var a=n("d485"),i=n("2d10");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var r,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"d700f8fe",null,!1,a["a"],r);t["default"]=s.exports}}]);
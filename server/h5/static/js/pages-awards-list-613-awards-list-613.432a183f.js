(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-awards-list-613-awards-list-613"],{"12c0":function(e,t,n){n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("5757");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e.exports=o},"3a9b":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("c3f6"),a=r.request613,o={data:function(){return{awards:[]}},computed:{amount:function(){return this.data}},onLoad:function(){var t=this;a("static").then((function(n){e.log("static: ",n),t.setData({awards:n.content})})).catch((function(t){return e.log(t)}))},methods:{}};t.default=o}).call(this,n("5a52")["default"])},5757:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n},"63e3":function(e,t,n){"use strict";n.r(t);var r=n("3a9b"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},7929:function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("van-cell-group",{attrs:{title:"奖品剩余数量统计"}},e._l(e.awards,(function(e){return n("van-cell",{key:e.index,attrs:{title:e.name,value:e.amount+"/"+e.initAmount}})})),1)],1)},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}))},c3f6:function(e,t,n){(function(t){n("99af"),n("a15b"),n("d81d"),n("fb6a"),n("d3b7"),n("e25e"),n("25f0");var r=n("12c0");function a(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),i=e.getMinutes(),c=e.getSeconds();return[t,n,r].map(o).join("/")+" "+[a,i,c].map(o).join(":")}function o(e){return e=e.toString(),e[1]?e:"0"+e}function i(e){var t=/^[1]([3-9])[0-9]{9}$/;return t.test(e)?"":"号码错误！"}function c(e){for(var t=[],n=30,r=30,a=0;a<8;a++){0==a?(n=25,r=25):a<3?(n=n,r=r+166.6666+15):a<5?(r=r,n=n+150+15):a<7?(r=r-166.6666-15,n=n):a<8&&(r=r,n=n-150-15);var o=e.imageAward[a];t.push({topAward:n,leftAward:r,imageAward:o})}e.setData({awardList:t})}function u(e){for(var t=7.5,n=7.5,r=[],a=0;a<24;a++){if(0==a)n=15,t=15;else if(a<6)n=7.5,t+=102.5;else if(6==a)n=15,t=620;else if(a<12)n+=94,t=620;else if(12==a)n=565,t=620;else if(a<18)n=570,t-=102.5;else if(18==a)n=565,t=15;else{if(!(a<24))return;n-=94,t=7.5}r.push({topCircle:n,leftCircle:t})}e.setData({circleList:r}),setInterval((function(){"#FFDF2F"==e.colorCircleFirst?e.setData({colorCircleFirst:"#FE4D32",colorCircleSecond:"#FFDF2F"}):e.setData({colorCircleFirst:"#FFDF2F",colorCircleSecond:"#FE4D32"})}),500)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://www.all2key.cn/yz/lottery/"+e,o=wx.getStorageSync("sid");return new Promise((function(e,i){uni.request({url:a,data:r({sid:o},t),header:n,success:function(t){return e(t.data)},fail:i})}))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://www.all2key.cn/yz/holiday51/"+e,o=wx.getStorageSync("sid");return new Promise((function(e,i){uni.request({url:a,data:r({sid:o,appToken:"holiday51",app:"holiday51"},t),header:n,success:function(t){return e(t.data)},fail:i})}))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://www.all2key.cn/yz/holiday613/"+e,o=wx.getStorageSync("sid");return new Promise((function(e,i){uni.request({url:a,data:r({sid:o,appToken:"holiday613",app:"holiday613"},t),header:n,success:function(t){return e(t.data)},fail:i})}))}function d(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=0,o=setInterval((function(){a++;var i=a>=8?a%8:a;e.setData({indexSelect:i}),a>16&&i===r&&(clearInterval(o),s("saveAward",{finalSelect:r,key:n}).then((function(n){t.log("saveAward: ",n);var r=n.code,a=n.max;e.setData({max:a});var o=r?"恭喜您获得了"+e.awardName[parseInt(i)]+"！":"抽奖失败!";wx.showModal({title:"抽奖结果",content:o,showCancel:!1,success:function(t){t.confirm&&e.setData({isRunning:!1})}})})).catch((function(e){return t.log(e)})))}),e.times)}function w(e){var n=uni.connectSocket({url:"wss://www.all2key.cn/lottery",success:function(e){return t.log("connectSocket success: ",e)},complete:function(){}});n.onOpen((function(e){return t.log("websocket onOpen: ",e)})),n.onMessage((function(n){var r=JSON.parse(n.data);t.log("recevied msg: ",r);var a=r.mobile,o=r.award;a&&o&&e.setData({notice:"恭喜手机号为".concat(v(a),"的客户抽中奖品").concat(o,"！")})}))}function v(e){return e.slice(0,-4)+"****"}e.exports={formatTime:a,setCircleList:u,setAwardList:c,request:s,request51:l,request613:f,startGame:d,webSocketConnect:w,validMobile:i}}).call(this,n("5a52")["default"])},ea56:function(e,t,n){"use strict";n.r(t);var r=n("7929"),a=n("63e3");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var i,c=n("f0c5"),u=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,"5faed5e0",null,!1,r["a"],i);t["default"]=u.exports}}]);
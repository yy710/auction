(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0bb7":function(t,e,n){"use strict";var r=n("bded"),i=n.n(r);i.a},1173:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},"21ce":function(t,e,n){"use strict";n.r(e);var r=n("7d79"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},"24c5":function(t,e,n){"use strict";var r,i,o,a,c=n("b8e3"),s=n("e53d"),u=n("d864"),l=n("40c3"),f=n("63b6"),h=n("f772"),d=n("79aa"),p=n("1173"),v=n("a22a"),m=n("f201"),g=n("4178").set,b=n("aba2")(),w=n("656e"),y=n("4439"),x=n("bc13"),_=n("cd78"),k="Promise",j=s.TypeError,E=s.process,O=E&&E.versions,L=O&&O.v8||"",S=s[k],F="process"==l(E),C=function(){},P=i=w.f,D=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n("5168")("species")]=function(t){t(C,C)};return(F||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e&&0!==L.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),A=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;b((function(){var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,c=i?e.ok:e.fail,s=e.resolve,u=e.reject,l=e.domain;try{c?(i||(2==t._h&&T(t),t._h=1),!0===c?n=r:(l&&l.enter(),n=c(r),l&&(l.exit(),a=!0)),n===e.promise?u(j("Promise-chain cycle")):(o=A(n))?o.call(n,s,u):s(n)):u(r)}catch(f){l&&!a&&l.exit(),u(f)}};while(n.length>o)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)}))}},R=function(t){g.call(s,(function(){var e,n,r,i=t._v,o=M(t);if(o&&(e=y((function(){F?E.emit("unhandledRejection",i,t):(n=s.onunhandledrejection)?n({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=F||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},T=function(t){g.call(s,(function(){var e;F?E.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})}))},G=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},I=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw j("Promise can't be resolved itself");(e=A(t))?b((function(){var r={_w:n,_d:!1};try{e.call(t,u(I,r,1),u(G,r,1))}catch(i){G.call(r,i)}})):(n._v=t,n._s=1,N(n,!1))}catch(r){G.call({_w:n,_d:!1},r)}}};D||(S=function(t){p(this,S,k,"_h"),d(t),r.call(this);try{t(u(I,this,1),u(G,this,1))}catch(e){G.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("5c95")(S.prototype,{then:function(t,e){var n=P(m(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=F?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(I,t,1),this.reject=u(G,t,1)},w.f=P=function(t){return t===S||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!D,{Promise:S}),n("45f2")(S,k),n("4c95")(k),a=n("584a")[k],f(f.S+f.F*!D,k,{reject:function(t){var e=P(this),n=e.reject;return n(t),e.promise}}),f(f.S+f.F*(c||!D),k,{resolve:function(t){return _(c&&this===a?S:this,t)}}),f(f.S+f.F*!(D&&n("4ee1")((function(t){S.all(t)["catch"](C)}))),k,{all:function(t){var e=this,n=P(e),r=n.resolve,i=n.reject,o=y((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var c=o++,s=!1;n.push(void 0),a++,e.resolve(t).then((function(t){s||(s=!0,n[c]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,i=y((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},3024:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"3b8d":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return a}));var r=n("795b"),i=n.n(r);function o(t,e,n,r,o,a,c){try{var s=t[a](c),u=s.value}catch(l){return void n(l)}s.done?e(u):i.a.resolve(u).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new i.a((function(r,i){var a=t.apply(e,n);function c(t){o(a,r,i,c,s,"next",t)}function s(t){o(a,r,i,c,s,"throw",t)}c(void 0)}))}}},"3c11":function(t,e,n){"use strict";var r=n("63b6"),i=n("584a"),o=n("e53d"),a=n("f201"),c=n("cd78");r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}})},4178:function(t,e,n){var r,i,o,a=n("d864"),c=n("3024"),s=n("32fc"),u=n("1ec9"),l=n("e53d"),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,m=0,g={},b="onreadystatechange",w=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},y=function(t){w.call(t.data)};h&&d||(h=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return g[++m]=function(){c("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete g[t]},"process"==n("6b4c")(f)?r=function(t){f.nextTick(a(w,t,1))}:v&&v.now?r=function(t){v.now(a(w,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=y,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",y,!1)):r=b in u("script")?function(t){s.appendChild(u("script"))[b]=function(){s.removeChild(this),w.call(t)}}:function(t){setTimeout(a(w,t,1),0)}),t.exports={set:h,clear:d}},"43fc":function(t,e,n){"use strict";var r=n("63b6"),i=n("656e"),o=n("4439");r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"4c95":function(t,e,n){"use strict";var r=n("e53d"),i=n("584a"),o=n("d9f6"),a=n("8e60"),c=n("5168")("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[c]&&o.f(e,c,{configurable:!0,get:function(){return this}})}},"5c95":function(t,e,n){var r=n("35e8");t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},"5d2d":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,"/**index.wxss**/.container-out[data-v-38bffbdf]{height:%?600?%;width:%?650?%;background-color:#b136b9;margin:%?100?% auto;border-radius:%?40?%;box-shadow:0 10px 0 #871a8e;position:relative}.container-in[data-v-38bffbdf]{width:%?580?%;height:%?530?%;background-color:#871a8e;border-radius:%?40?%;position:absolute;left:0;right:0;top:0;bottom:0;margin:auto}\n\n/**小圆球\nbox-shadow: inset 3px 3px 3px #fff2af;*/.circle[data-v-38bffbdf]{position:absolute;display:block;border-radius:50%;height:%?20?%;width:%?20?%}.content-out[data-v-38bffbdf]{position:absolute;height:%?150?%;width:%?166.6666?%;background-color:#f5f0fc;border-radius:%?15?%;box-shadow:0 5px 0 #d87fde}\n\n/**居中 加粗*/.start-btn[data-v-38bffbdf]{position:absolute;margin:auto;top:0;left:0;bottom:0;right:0;border-radius:%?15?%;height:%?150?%;width:%?166.6666?%;background-color:#ffe400;box-shadow:0 5px 0 #e7930a;color:#f6251e;text-align:center;font-size:%?55?%;font-weight:bolder;line-height:%?150?%}.award-image[data-v-38bffbdf]{position:absolute;margin:auto;top:0;left:0;bottom:0;right:0;height:%?140?%;width:%?130?%}",""]),t.exports=e},"656e":function(t,e,n){"use strict";var r=n("79aa");function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},"696e":function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("24c5"),n("3c11"),n("43fc"),t.exports=n("584a").Promise},"795b":function(t,e,n){t.exports=n("696e")},"7d79":function(t,e,n){"use strict";(function(t){var r=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("bd86"));n("96cf");var o=r(n("3b8d")),a=(r(n("f31f")),getApp().globalData,n("c3f6")),c=a.setCircleList,s=a.setAwardList,u=a.request,l=a.startGame,f=a.webSocketConnect,h=a.validMobile,d={data:function(){return{circleList:[],awardList:[],colorCircleFirst:"#FFDF2F",colorCircleSecond:"#FE4D32",colorAwardDefault:"#F5F0FC",colorAwardSelect:"#ffe400",indexSelect:0,isRunning:!1,imageAward:["/static/images/1.jpg","/static/images/2.jpg","/static/images/3.jpg","/static/images/4.jpg","/static/images/5.jpg","/static/images/6.jpg","/static/images/7.jpg","/static/images/8.jpg"],times:"200",sid:null,awardName:["挡泥板","捷达雨伞","车内沾灰神器","燃油添加剂","玻璃水","设备换油","车内沾灰神器","捷达精品车模"],nickName:"",mobile:"",plateNum:"云A-",showInput:!1,notice:"",max:5,errMobile:"",key:null}},components:{},props:{},onLoad:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u("login");case 2:n=e.sent,t.log("login: ",n),r=n.code,n.msg,i=n.sid,o=n.nickName,a=n.max,r&&this.setData({sid:i,nickName:o,max:a}),f(this),c(this),s(this);case 9:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),methods:{onChange:function(t){this.setData((0,i.default)({},"".concat(t.target.dataset.id),t.detail)),this.setData({errMobile:h(this.mobile)})},commitInfo:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.errMobile){e.next=2;break}return e.abrupt("return",0);case 2:return n={nickName:this.nickName||"谊众客户",mobile:this.mobile,plateNum:this.plateNum},e.next=5,u("login",n);case 5:r=e.sent,t.log("login: ",r),i=r.code,r.nickName,r.mobile,o=r.sid,o&&uni.setStorageSync("sid",o),i&&this.setData({showInput:!1,sid:o});case 10:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),startGame:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.log("this.sid: ",this.sid),this.sid?this.startGame2():this.showInput=!0;case 2:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),startGame2:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var n,r,i,o,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this,!this.isRunning){e.next=3;break}return e.abrupt("return",0);case 3:return this.setData({isRunning:!0}),e.next=6,u("getSelect");case 6:r=e.sent,t.log("getSelect: ",r),i=r.code,o=r.key,a=r.finalSelect,c=r.msg,i&&o?l(this,o,a):wx.showModal({title:"提示",content:c,showCancel:!1,success:function(t){return n.setData({isRunning:!1,max:0})}});case 10:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()}};e.default=d}).call(this,n("5a52")["default"])},"8e70":function(t,e,n){"use strict";var r,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("van-divider",{attrs:{contentPosition:"center"}},[t._v("欢迎"+t._s(t.nickName)+",您有"+t._s(t.max)+"次抽奖机会！")]),t.showInput?n("van-cell-group",{attrs:{title:"请输入领奖信息："}},[n("van-field",{attrs:{value:t.mobile,type:"digit",maxlength:"20",label:"手机号：","data-id":"mobile",placeholder:"填错不能兑奖","error-message":t.errMobile},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}},[n("van-button",{attrs:{slot:"button",size:"small",type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.commitInfo.apply(void 0,arguments)}},slot:"button"},[t._v("确认信息正确")])],1),n("van-field",{attrs:{value:t.plateNum,maxlength:"10",label:"车牌号：","data-id":"plateNum",placeholder:"请填写车牌照号码"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}}),n("van-field",{attrs:{value:t.nickName,maxlength:"10",label:"昵 称：","data-id":"nickName",placeholder:"可不填"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1):t._e(),n("v-uni-view",{staticClass:"container-out"},[t._l(t.circleList,(function(e,r){return n("v-uni-view",{key:r,staticClass:"circle",style:"top:"+e.topCircle+"rpx;left:"+e.leftCircle+"rpx;background-color: "+(r%2==0?t.colorCircleFirst:t.colorCircleSecond)+";"})})),n("v-uni-view",{staticClass:"container-in"},[t._l(t.awardList,(function(e,r){return n("v-uni-view",{key:r,staticClass:"content-out",style:"top:"+e.topAward+"rpx;left:"+e.leftAward+"rpx;background-color: "+(r==t.indexSelect?t.colorAwardSelect:t.colorAwardDefault)+";"},[n("v-uni-image",{staticClass:"award-image",attrs:{src:e.imageAward}})],1)})),n("v-uni-view",{staticClass:"start-btn",style:"background-color:"+(t.isRunning?"#e7930a":"#ffe400"),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startGame.apply(void 0,arguments)}}},[t._v("开始")])],2)],2),n("van-divider",{attrs:{contentPosition:"center"}},[t._v("获奖通知")]),n("van-notice-bar",{attrs:{wrapable:!0,scrollable:"false","left-icon":"volume",text:t.notice}})],1)},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}))},"96cf":function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",u="object"===typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{l=e.regeneratorRuntime=u?t.exports:{},l.wrap=y;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==r&&i.call(b,a)&&(m=b);var w=j.prototype=_.prototype=Object.create(m);k.prototype=w.constructor=j,j.constructor=k,j[s]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},l.awrap=function(t){return{__await:t}},E(O.prototype),O.prototype[c]=function(){return this},l.AsyncIterator=O,l.async=function(t,e,n,r){var i=new O(y(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(w),w[s]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=D,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return c.type="throw",c.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function y(t,e,n,r){var i=e&&e.prototype instanceof _?e:_,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=L(t,n,a),o}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function _(){}function k(){}function j(){}function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function O(t){function e(n,r,o,a){var c=x(t[n],t,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"===typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(u).then((function(t){s.value=t,o(s)}),(function(t){return e("throw",t,o,a)}))}a(c.arg)}var n;function r(t,r){function i(){return new Promise((function(n,i){e(t,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=r}function L(t,e,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var c=S(a,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=x(t,e,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function S(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,S(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=x(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function D(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){while(++r<t.length)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},a22a:function(t,e,n){var r=n("d864"),i=n("b0dc"),o=n("3702"),a=n("e4ae"),c=n("b447"),s=n("7cd6"),u={},l={};e=t.exports=function(t,e,n,f,h){var d,p,v,m,g=h?function(){return t}:s(t),b=r(n,f,e?2:1),w=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=c(t.length);d>w;w++)if(m=e?b(a(p=t[w])[0],p[1]):b(t[w]),m===u||m===l)return m}else for(v=g.call(t);!(p=v.next()).done;)if(m=i(v,b,p.value,e),m===u||m===l)return m};e.BREAK=u,e.RETURN=l},aba2:function(t,e,n){var r=n("e53d"),i=n("4178").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,c=r.Promise,s="process"==n("6b4c")(a);t.exports=function(){var t,e,n,u=function(){var r,i;s&&(r=a.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var l=c.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},bc13:function(t,e,n){var r=n("e53d"),i=r.navigator;t.exports=i&&i.userAgent||""},bded:function(t,e,n){var r=n("5d2d");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("4f06").default;i("b7b2f8fc",r,!0,{sourceMap:!1,shadowMode:!1})},c3f6:function(t,e,n){"use strict";(function(e){var r=n("4ea4");n("8e6e"),n("ac6a"),n("456d");var i=r(n("bd86"));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t){var e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),i=t.getHours(),o=t.getMinutes(),a=t.getSeconds();return[e,n,r].map(s).join("/")+" "+[i,o,a].map(s).join(":")}function s(t){return t=t.toString(),t[1]?t:"0"+t}function u(t){var e=/^[1]([3-9])[0-9]{9}$/;return e.test(t)?"":"号码错误！"}function l(t){for(var e=[],n=30,r=30,i=0;i<8;i++){0==i?(n=25,r=25):i<3?(n=n,r=r+166.6666+15):i<5?(r=r,n=n+150+15):i<7?(r=r-166.6666-15,n=n):i<8&&(r=r,n=n-150-15);var o=t.imageAward[i];e.push({topAward:n,leftAward:r,imageAward:o})}t.setData({awardList:e})}function f(t){for(var e=7.5,n=7.5,r=[],i=0;i<24;i++){if(0==i)n=15,e=15;else if(i<6)n=7.5,e+=102.5;else if(6==i)n=15,e=620;else if(i<12)n+=94,e=620;else if(12==i)n=565,e=620;else if(i<18)n=570,e-=102.5;else if(18==i)n=565,e=15;else{if(!(i<24))return;n-=94,e=7.5}r.push({topCircle:n,leftCircle:e})}t.setData({circleList:r}),setInterval((function(){"#FFDF2F"==t.colorCircleFirst?t.setData({colorCircleFirst:"#FE4D32",colorCircleSecond:"#FFDF2F"}):t.setData({colorCircleFirst:"#FFDF2F",colorCircleSecond:"#FE4D32"})}),500)}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="https://www.all2key.cn/yz/lottery/"+t,i=wx.getStorageSync("sid");return new Promise((function(t,o){uni.request({url:r,data:a({sid:i},e),header:n,success:function(e){return t(e.data)},fail:o})}))}function d(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,o=setInterval((function(){i++;var a=i>=8?i%8:i;t.setData({indexSelect:a}),i>16&&a===r&&(clearInterval(o),h("saveAward",{finalSelect:r,key:n}).then((function(n){e.log("saveAward: ",n);var r=n.code,i=n.max;t.setData({max:i});var o=r?"恭喜您获得了"+t.awardName[parseInt(a)]+"！":"抽奖失败!";wx.showModal({title:"抽奖结果",content:o,showCancel:!1,success:function(e){e.confirm&&t.setData({isRunning:!1})}})})).catch((function(t){return e.log(t)})))}),t.times)}function p(t){var n=uni.connectSocket({url:"wss://www.all2key.cn/lottery",success:function(t){return e.log("connectSocket success: ",t)},complete:function(){}});n.onOpen((function(t){return e.log("websocket onOpen: ",t)})),n.onMessage((function(n){var r=JSON.parse(n.data);e.log("recevied msg: ",r);var i=r.mobile,o=r.award;i&&o&&t.setData({notice:"恭喜手机号为".concat(v(i),"的客户抽中奖品").concat(o,"！")})}))}function v(t){return t.slice(0,-4)+"****"}n("6b54"),t.exports={formatTime:c,setCircleList:f,setAwardList:l,request:h,startGame:d,webSocketConnect:p,validMobile:u}}).call(this,n("5a52")["default"])},cd78:function(t,e,n){var r=n("e4ae"),i=n("f772"),o=n("656e");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},eec7:function(t,e,n){"use strict";n.r(e);var r=n("8e70"),i=n("21ce");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("0bb7");var a,c=n("f0c5"),s=Object(c["a"])(i["default"],r["b"],r["c"],!1,null,"38bffbdf",null,!1,r["a"],a);e["default"]=s.exports},f201:function(t,e,n){var r=n("e4ae"),i=n("79aa"),o=n("5168")("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},f31f:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("28a5"),n("3b2b"),n("a481"),n("4917");var r=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([-A-Za-z0-9_]+)[^>]*>/,o=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,a=d("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),c=d("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),s=d("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),u=d("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),l=d("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=d("script,style");function h(t,e){var n,h,d,p=[],v=t;p.last=function(){return this[this.length-1]};while(t){if(h=!0,p.last()&&f[p.last()])t=t.replace(new RegExp("([\\s\\S]*?)</"+p.last()+"[^>]*>"),(function(t,n){return n=n.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),e.chars&&e.chars(n),""})),b("",p.last());else if(0==t.indexOf("\x3c!--")?(n=t.indexOf("--\x3e"),n>=0&&(e.comment&&e.comment(t.substring(4,n)),t=t.substring(n+3),h=!1)):0==t.indexOf("</")?(d=t.match(i),d&&(t=t.substring(d[0].length),d[0].replace(i,b),h=!1)):0==t.indexOf("<")&&(d=t.match(r),d&&(t=t.substring(d[0].length),d[0].replace(r,g),h=!1)),h){n=t.indexOf("<");var m=n<0?t:t.substring(0,n);t=n<0?"":t.substring(n),e.chars&&e.chars(m)}if(t==v)throw"Parse Error: "+t;v=t}function g(t,n,r,i){if(n=n.toLowerCase(),c[n])while(p.last()&&s[p.last()])b("",p.last());if(u[n]&&p.last()==n&&b("",n),i=a[n]||!!i,i||p.push(n),e.start){var f=[];r.replace(o,(function(t,e){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[e]?e:"";f.push({name:e,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})})),e.start&&e.start(n,f,i)}}function b(t,n){if(n){for(r=p.length-1;r>=0;r--)if(p[r]==n)break}else var r=0;if(r>=0){for(var i=p.length-1;i>=r;i--)e.end&&e.end(p[i]);p.length=r}}b()}function d(t){for(var e={},n=t.split(","),r=0;r<n.length;r++)e[n[r]]=!0;return e}function p(t){return t.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}function v(t){return t.reduce((function(t,e){var n=e.value,r=e.name;return t[r]?t[r]=t[r]+" "+n:t[r]=n,t}),{})}function m(e){e=p(e);var n=[],r={node:"root",children:[]};return h(e,{start:function(t,e,i){var o={name:t};if(0!==e.length&&(o.attrs=v(e)),i){var a=n[0]||r;a.children||(a.children=[]),a.children.push(o)}else n.unshift(o)},end:function(e){var i=n.shift();if(i.name!==e&&t.error("invalid state: mismatch end tag"),0===n.length)r.children.push(i);else{var o=n[0];o.children||(o.children=[]),o.children.push(i)}},chars:function(t){var e={type:"text",text:t};if(0===n.length)r.children.push(e);else{var i=n[0];i.children||(i.children=[]),i.children.push(e)}},comment:function(t){var e={node:"comment",text:t},r=n[0];r.children||(r.children=[]),r.children.push(e)}}),r.children}var g=m;e.default=g}).call(this,n("5a52")["default"])}}]);
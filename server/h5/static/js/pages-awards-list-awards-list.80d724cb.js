(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-awards-list-awards-list"],{"12c0":function(t,e,n){n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("5757");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}t.exports=o},5757:function(t,e){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=n},"61a1":function(t,e,n){"use strict";n.r(e);var r=n("90fc"),a=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=a.a},7532:function(t,e,n){"use strict";n.r(e);var r=n("cbcb"),a=n("61a1");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var c,i=n("f0c5"),u=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,"f8bf2bb0",null,!1,r["a"],c);e["default"]=u.exports},"90fc":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("c3f6"),a=r.request51,o={data:function(){return{awards:[]}},computed:{amount:function(){return this.data}},onLoad:function(){var e=this;a("static").then((function(n){t.log("static: ",n),e.setData({awards:n.content})})).catch((function(e){return t.log(e)}))},methods:{}};e.default=o}).call(this,n("5a52")["default"])},c3f6:function(t,e,n){(function(e){n("99af"),n("a15b"),n("d81d"),n("fb6a"),n("d3b7"),n("e25e"),n("25f0");var r=n("12c0");function a(t){var e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),a=t.getHours(),c=t.getMinutes(),i=t.getSeconds();return[e,n,r].map(o).join("/")+" "+[a,c,i].map(o).join(":")}function o(t){return t=t.toString(),t[1]?t:"0"+t}function c(t){var e=/^[1]([3-9])[0-9]{9}$/;return e.test(t)?"":"号码错误！"}function i(t){for(var e=[],n=30,r=30,a=0;a<8;a++){0==a?(n=25,r=25):a<3?(n=n,r=r+166.6666+15):a<5?(r=r,n=n+150+15):a<7?(r=r-166.6666-15,n=n):a<8&&(r=r,n=n-150-15);var o=t.imageAward[a];e.push({topAward:n,leftAward:r,imageAward:o})}t.setData({awardList:e})}function u(t){for(var e=7.5,n=7.5,r=[],a=0;a<24;a++){if(0==a)n=15,e=15;else if(a<6)n=7.5,e+=102.5;else if(6==a)n=15,e=620;else if(a<12)n+=94,e=620;else if(12==a)n=565,e=620;else if(a<18)n=570,e-=102.5;else if(18==a)n=565,e=15;else{if(!(a<24))return;n-=94,e=7.5}r.push({topCircle:n,leftCircle:e})}t.setData({circleList:r}),setInterval((function(){"#FFDF2F"==t.colorCircleFirst?t.setData({colorCircleFirst:"#FE4D32",colorCircleSecond:"#FFDF2F"}):t.setData({colorCircleFirst:"#FFDF2F",colorCircleSecond:"#FE4D32"})}),500)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://www.all2key.cn/yz/lottery/"+t,o=wx.getStorageSync("sid");return new Promise((function(t,c){uni.request({url:a,data:r({sid:o},e),header:n,success:function(e){return t(e.data)},fail:c})}))}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://www.all2key.cn/yz/holiday51/"+t,o=wx.getStorageSync("sid");return new Promise((function(t,c){uni.request({url:a,data:r({sid:o,appToken:"holiday51",app:"holiday51"},e),header:n,success:function(e){return t(e.data)},fail:c})}))}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://www.all2key.cn/yz/holiday613/"+t,o=wx.getStorageSync("sid");return new Promise((function(t,c){uni.request({url:a,data:r({sid:o,appToken:"holiday613",app:"holiday613"},e),header:n,success:function(e){return t(e.data)},fail:c})}))}function d(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=0,o=setInterval((function(){a++;var c=a>=8?a%8:a;t.setData({indexSelect:c}),a>16&&c===r&&(clearInterval(o),s("saveAward",{finalSelect:r,key:n}).then((function(n){e.log("saveAward: ",n);var r=n.code,a=n.max;t.setData({max:a});var o=r?"恭喜您获得了"+t.awardName[parseInt(c)]+"！":"抽奖失败!";wx.showModal({title:"抽奖结果",content:o,showCancel:!1,success:function(e){e.confirm&&t.setData({isRunning:!1})}})})).catch((function(t){return e.log(t)})))}),t.times)}function w(t){var n=uni.connectSocket({url:"wss://www.all2key.cn/lottery",success:function(t){return e.log("connectSocket success: ",t)},complete:function(){}});n.onOpen((function(t){return e.log("websocket onOpen: ",t)})),n.onMessage((function(n){var r=JSON.parse(n.data);e.log("recevied msg: ",r);var a=r.mobile,o=r.award;a&&o&&t.setData({notice:"恭喜手机号为".concat(v(a),"的客户抽中奖品").concat(o,"！")})}))}function v(t){return t.slice(0,-4)+"****"}t.exports={formatTime:a,setCircleList:u,setAwardList:i,request:s,request51:l,request613:f,startGame:d,webSocketConnect:w,validMobile:c}}).call(this,n("5a52")["default"])},cbcb:function(t,e,n){"use strict";var r,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("van-cell-group",{attrs:{title:"奖品剩余数量统计"}},t._l(t.awards,(function(t){return n("van-cell",{key:t.index,attrs:{title:t.name,value:t.amount+"/"+t.initAmount}})})),1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}))}}]);
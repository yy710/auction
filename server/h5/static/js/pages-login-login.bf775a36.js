(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"0930":function(e,t,n){"use strict";var a,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"all"},[n("v-uni-view",{staticClass:"myflex"},[n("v-uni-text",{staticStyle:{flex:"2"}},[e._v("设置可抽奖次数：")]),n("van-stepper",{staticStyle:{flex:"1"},attrs:{value:e.chance,min:"0",integer:!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChangeChance.apply(void 0,arguments)}}})],1),n("van-button",{attrs:{plain:!0,type:"primary",block:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setChance.apply(void 0,arguments)}}},[e._v("按设置次数开始新的抽奖")])],1)},c=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a}))},"12c0":function(e,t,n){n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var a=n("5757");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e.exports=c},5757:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n},"5d41":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".all[data-v-df645ce0]{font-size:%?24?%;color:#646566;padding:%?10?%}.award[data-v-df645ce0]{height:%?80?%;color:#1989fa}.custom-button[data-v-df645ce0]{width:%?60?%;height:%?38?%;border-radius:%?10?%;background-color:#aaf;text-align:center}.myflex[data-v-df645ce0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:space-around;align-content:space-around;margin:%?15?%;padding-top:%?10?%;padding-bottom:%?10?%;width:90%}",""]),e.exports=t},6322:function(e,t,n){"use strict";n.r(t);var a=n("0930"),r=n("a971");for(var c in r)"default"!==c&&function(e){n.d(t,e,(function(){return r[e]}))}(c);n("87e3");var o,i=n("f0c5"),s=Object(i["a"])(r["default"],a["b"],a["c"],!1,null,"df645ce0",null,!1,a["a"],o);t["default"]=s.exports},"85e8":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("c3f6"),r=a.request51,c={data:function(){return{chance:0}},onLoad:function(){var t=this;r("getParams",{}).then((function(n){e.log("getParams: ",n);var a=n.content.chance;t.setData({chance:a})})).catch((function(t){return e.log(t)}))},methods:{onChangeChance:function(t){e.log(t.detail),this.setData({chance:t.detail})},setChance:function(){var t=this;uni.showModal({title:"警告！",content:"此操作会清空所有抽奖数据，请确保已下载备份之前的抽奖记录！",success:function(n){n.confirm&&r("setChance",{chance:t.chance}).then((function(t){e.log("setParams: ",t),wx.showToast({title:t.msg})})).catch((function(t){return e.log(t)}))}})}}};t.default=c}).call(this,n("5a52")["default"])},"87e3":function(e,t,n){"use strict";var a=n("8b94"),r=n.n(a);r.a},"8b94":function(e,t,n){var a=n("5d41");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("4f06").default;r("aaa041a6",a,!0,{sourceMap:!1,shadowMode:!1})},a971:function(e,t,n){"use strict";n.r(t);var a=n("85e8"),r=n.n(a);for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);t["default"]=r.a},c3f6:function(e,t,n){(function(t){n("99af"),n("a15b"),n("d81d"),n("fb6a"),n("d3b7"),n("e25e"),n("25f0");var a=n("12c0");function r(e){var t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes(),i=e.getSeconds();return[t,n,a].map(c).join("/")+" "+[r,o,i].map(c).join(":")}function c(e){return e=e.toString(),e[1]?e:"0"+e}function o(e){var t=/^[1]([3-9])[0-9]{9}$/;return t.test(e)?"":"号码错误！"}function i(e){for(var t=[],n=30,a=30,r=0;r<8;r++){0==r?(n=25,a=25):r<3?(n=n,a=a+166.6666+15):r<5?(a=a,n=n+150+15):r<7?(a=a-166.6666-15,n=n):r<8&&(a=a,n=n-150-15);var c=e.imageAward[r];t.push({topAward:n,leftAward:a,imageAward:c})}e.setData({awardList:t})}function s(e){for(var t=7.5,n=7.5,a=[],r=0;r<24;r++){if(0==r)n=15,t=15;else if(r<6)n=7.5,t+=102.5;else if(6==r)n=15,t=620;else if(r<12)n+=94,t=620;else if(12==r)n=565,t=620;else if(r<18)n=570,t-=102.5;else if(18==r)n=565,t=15;else{if(!(r<24))return;n-=94,t=7.5}a.push({topCircle:n,leftCircle:t})}e.setData({circleList:a}),setInterval((function(){"#FFDF2F"==e.colorCircleFirst?e.setData({colorCircleFirst:"#FE4D32",colorCircleSecond:"#FFDF2F"}):e.setData({colorCircleFirst:"#FFDF2F",colorCircleSecond:"#FE4D32"})}),500)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="https://www.all2key.cn/yz/lottery/"+e,c=wx.getStorageSync("sid");return new Promise((function(e,o){uni.request({url:r,data:a({sid:c},t),header:n,success:function(t){return e(t.data)},fail:o})}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="https://www.all2key.cn/yz/holiday51/"+e,c=wx.getStorageSync("sid");return new Promise((function(e,o){uni.request({url:r,data:a({sid:c,appToken:"holiday51",app:"holiday51"},t),header:n,success:function(t){return e(t.data)},fail:o})}))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="https://www.all2key.cn/yz/holiday613/"+e,c=wx.getStorageSync("sid");return new Promise((function(e,o){uni.request({url:r,data:a({sid:c,appToken:"holiday613",app:"holiday613"},t),header:n,success:function(t){return e(t.data)},fail:o})}))}function d(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0,c=setInterval((function(){r++;var o=r>=8?r%8:r;e.setData({indexSelect:o}),r>16&&o===a&&(clearInterval(c),l("saveAward",{finalSelect:a,key:n}).then((function(n){t.log("saveAward: ",n);var a=n.code,r=n.max;e.setData({max:r});var c=a?"恭喜您获得了"+e.awardName[parseInt(o)]+"！":"抽奖失败!";wx.showModal({title:"抽奖结果",content:c,showCancel:!1,success:function(t){t.confirm&&e.setData({isRunning:!1})}})})).catch((function(e){return t.log(e)})))}),e.times)}function p(e){var n=uni.connectSocket({url:"wss://www.all2key.cn/lottery",success:function(e){return t.log("connectSocket success: ",e)},complete:function(){}});n.onOpen((function(e){return t.log("websocket onOpen: ",e)})),n.onMessage((function(n){var a=JSON.parse(n.data);t.log("recevied msg: ",a);var r=a.mobile,c=a.award;r&&c&&e.setData({notice:"恭喜手机号为".concat(v(r),"的客户抽中奖品").concat(c,"！")})}))}function v(e){return e.slice(0,-4)+"****"}e.exports={formatTime:r,setCircleList:s,setAwardList:i,request:l,request51:u,request613:f,startGame:d,webSocketConnect:p,validMobile:o}}).call(this,n("5a52")["default"])}}]);